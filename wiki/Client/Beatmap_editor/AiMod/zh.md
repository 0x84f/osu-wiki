# AiMod

![](img/AiMod-ZH.png "AiMod 窗口列出了谱面中的警告和错误。")

Aimod 是一个内置于[谱面编辑器](/wiki/Client/Beatmap_editor)中的工具，用于检测[谱面](/wiki/Beatmap)中的问题。你可以通过菜单选项 `文件` > `打开 AiMod` 或者按下 `Ctrl` + `Shift` + `A` [快捷键](/wiki/Client/Keyboard_shortcuts)来打开它。

尽管 AiMod 对检测谱面基本问题很有用，也不能代替真人进行的[摸图](/wiki/Modding)过程。AiMod 不能评估谱面质量，也不能指出复杂问题，比如拙劣的[排法](/wiki/Beatmap/Pattern)或[时间轴测定](/wiki/Guides/How_to_Time_Songs)问题。当[创建谱面](/wiki/Beatmapping)时，建议你先修复 AiMod 中的问题，然后向[摸图者](/wiki/Modding/Modder)求助。

AiMod 的开发进程往往滞后于摸图社区与[谱面上架标准 (RC)](/wiki/Ranking_Criteria) 确立的标准，因此[其部分输出被认为是不正确的](#缺陷)。

## 标签页

- **全部 (All)：** 聚合其他标签页的项目。
- **作曲 (Compose)：** 这些一般是物件放置的问题。你可能需要选中“检查间距锁定”(Check distance snap)来显示警告项目（由于取决于谱面大小或长度，这些检查会导致操作卡顿）。
- **设计 (Design)：** 这些一般是界面问题的一部分，比如背景故事板等等。
- **时间轴测定 (Timing)：** 当出现这类问题时，请检查时间线，因为可能有什么东西放得不对。
- **元数据 (Meta)：** 当出现这类问题时，请检查歌曲设置。
- **图集 (Mapset)：** 这类问题影响谱面整体。

## 消息

*注意：花括号里的数字（比如 `{0}`）是数字或词语的占位符。*

### 信息

#### 全部 (All)

| 消息 | 解释 | 解决方案 |
| :-- | :-- | :-- |
| 恭喜！在这张图里面没有发现问题！ | AiMod 找不出你的谱面中的问题！ | 你可以用 BSS 上传谱面，让 osu! 摸图者找找其他错误与问题。 |

#### 元数据 (Meta)

| 消息 | 解释 | 解决方案 |
| :-- | :-- | :-- |
| 建议 Easy/Normal 难度的 HP（HP 掉落）至少为 4。 | 仅限 osu!mania 谱面！ | 打开歌曲设置页，将 OD 值设为 4 及以上。 |
| 建议 Hard 以上难度的 HP（HP 掉落）至少为 7。 | 仅限 osu!mania 谱面！ | 打开歌曲设置页，将 HP 值设为 7 及以上。 |
| 建议滑条极少的图 OD（总体难度）至少为 7。 | 仅限 osu!mania 谱面！ | 打开歌曲设置页，将 OD 值设为 7 及以上。 |
| 滑条速度应该是 1.40 或 1.60。 | 仅限 osu!taiko 谱面！ | 转到 Timing 标签页，将滑条速度设置为 1.40 或 1.60。 |

### 错误

#### 作曲 (Compose)

| 消息 | 解释 | 解决方案 |
| :-- | :-- | :-- |
| 两个物件时间间距低于 10ms！ | 两个物件间距离很近。这意味着玩家需要以不可能的速度点击！ | 找到这两个物件，移动或删除它们。 |
| 两个物件出现在同一时间！ | 两个物件互相重叠。这会让谱面无法上架！ | 找到这两个物件，移动或删除它们。 |
| 物件没有打击音效。上架谱面需要打击音效。 | *不言而喻* | 使用哨音、击掌声、重音为谱面添加音效。 |
| 这个转盘和后面的物件重叠了。 | 转盘活跃时有物件出现。很低的 AR 值和/或将物件与转盘放得太近（费时）会导致此问题。 | 改变转盘长度，并且/或者删除下面的物件。 |
| 长条（hold note）按住的时间短于 10ms！ | 仅限 osu!mania 谱面！这需要玩家以极快的速度按下、松开按键，让谱面不可能获得 SS。 | 增加音符长度，或者删除它。 |
| 和另一个物件有重叠。 | 仅限 osu!mania 谱面！ | 去除任一重叠的物件。 |
| 这个物件叠在另一个物件上。 | 仅限 osu!mania 谱面！指定的音符和/或长按音符互相重叠。这会导致你的谱面不可能获得 SS！ | 找到这样的音符或长按音符，修正或者删除它。 |
| 禁止同时存在超过 6 个物件。 | 仅限 osu!mania 谱面！大多数键盘允许同时按下最多 6 个键。 | 检查谱面，确保每列音符数都不超过 6 个。 |

#### 设计 (Design)

| 消息 | 解释 | 解决方案 |
| :-- | :-- | :-- |
| 你的谱面没有背景图片。 | 当前难度没有背景图片！请注意，由于用户无需下载视频，视频不算作背景图片。 | 找到恰当的图片用作背景。 |
| <!-- 未验证 -->找不到文件：{0}。 | 你的谱面缺失文件。 | 恢复缺失的文件，或者确保谱面未尝试使用不存在的文件。 |

#### 时间轴测定 (Timing)

| 消息 | 解释 | 解决方案 |
| :-- | :-- | :-- |
| 所有 Timing 区间的音量都低于 5%。 | *不言而喻* | 将至少一个计时区间的打击音效音量设为 5% 及以上。 |

#### 元数据 (Meta)

| 消息 | 解释 | 解决方案 |
| :-- | :-- | :-- |
| <!-- 未翻译 -->掉血时间应长于 30 秒。 | 谱面从头到尾（休息时段除外）的长度短于 30 秒。 AiMod 不会检测长度超过 30 秒的转盘。 | 如果歌曲支持，可以试试用转盘结束谱面。如果不能，那么歌曲可能太短了。为了让你的谱面上架，需要将歌曲时间延长到 30 秒。 |

### 警告

#### 作曲 (Compose)

| 消息 | 解释 | 解决方案 |
| :-- | :-- | :-- |
| <!-- 未验证 -->滑条路径不正常。 |  |  |
| <!-- 未翻译 -->滑条点出奇地多！ | *不言而喻* | 从滑条中删除部分锚点。 |
| Combo 很长，可以考虑断开。 | 串的长度会影响谱面难度与 osu!catch 中小人盘子上堆叠的水果数目。 | 找到这样的长串，决定新串的起始位置。（串的最大长度最好在 15-18 间） |
| 物件尾部超出屏幕了！ | 可能无法在以 4:3 比例运行的 osu! 客户端中看到超出屏幕的物件。这也不总是准确的，因此一定要用 4:3 比例的分辨率检查一下。 | 删除物件，或者移动物件尾部。 |
| 物件超出屏幕了！ | 可能无法在以 4:3 比例运行的 osu! 客户端中看到超出屏幕的物件。 | 删除或移动物件。 |
| 物件离前一个物件的距离太近。 | 必须勾选 “Check distance snap” 。 | 将物件移动到距离上个物件更远处。 |
| 物件离前一个物件的距离太远。 | 必须勾选 “Check distance snap” 。 | 将物件移动到距离上个物件更近处。 |
| 这个转盘太短了。必须让 auto 君能转出 1000 分以上的加分。 | 指定的转盘太短，会导致很难获得 SS。 | 删除对应的转盘，或者让它长一点（约3整拍）。取决于歌曲 BPM，转盘的长度可能不同。 |
| 转盘必须设置新 combo。 |  |  |
| 物件没有对齐时间轴！ | 指定的物件没有对齐时间轴。 | 请检查时间轴测定设置。如果你改过它，你可能需要让所有物件重新对齐（可以手动做到这一点，也可以点击 Timing » 全部重新对齐（如果这样做了，你需要检查有没有物件的放置位置错了））。 |
| 物件结尾没有对齐时间轴！ | 指定物件的结尾没有对齐时间轴。 | 请检查时间轴测定设置。如果你改过它，你可能需要让所有物件重新对齐（可以手动做到这一点，也可以点击 Timing » 全部重新对齐（如果这样做了，你需要检查有没有物件的放置位置错了））。 |

#### 设计 (Design)

| 消息 | 解释 | 解决方案 |
| :-- | :-- | :-- |
| 背景图片尺寸大于 2560x1440。 | *不言而喻* | Resize or replace the background image. |
| 包含快速闪烁的 storyboard，可能需要设置闪光警告（epilepsy warning）。 | 故事板元素变化过快。 | 启用[歌曲设置 (Song setup) 窗口](/wiki/Client/Beatmap_editor/Song_Setup)中 “Design” 标签页下的 `Display epilepsy warning (storyboard has quick strobing)` 选项。 |
| <!-- Not sure how to test this one -->{0} 的尺寸必须为 {1}x{1} 。 |  |  |
| 4:3 比例的视频尺寸不能超过 1024x768。 | *不言而喻* | 调整背景视频尺寸或将其替换。 |
| 16:9 比例的视频尺寸不能超过 1280x720。 | *不言而喻* | 调整背景视频尺寸或将其替换。 |

#### 时间轴测定 (Timing)

| 消息 | 解释 | 解决方案 |
| :-- | :-- | :-- |
| 谱面超过 6 分钟。如果不打算做马拉松（Marathon）图，可以缩短一点。 |  |  |
| 谱面短于 45 秒。考虑做长一点。 |  |  |
| <!-- 未验证 -->音频文件码率高于 192kbps。考虑将其重新压缩为 CBR 192kbps 或 VBR ~1.0 格式。 |  |  |
| <!-- 未验证 -->音频文件码率低于 128kbps。考虑找一个质量更高的文件。 |  |  |
| Kiai 时间短于 15 秒。 | *不言而喻* | 将 Kiai 时间延长到 15 秒以上。 |
| 音频文件比谱面长很多。可以切掉没有做图的部分来减小文件大小。 | *不言而喻* | 延长谱面，或者缩短歌曲。 |
| Kiai 时间需要有一个结束点。 |  |  |
| 没有设置音频预览时间。可以在功能表的 Timing 选单里面设置。 |  |  |
| 同一时间有两个 Timing 点！ |  |  |
| {1} 个计时段中有 {0} 个的音量低于 5% 。 |  |  |
| 这个图超过 1/3 的时间是 Kiai 时间。可以缩短一些。 |  |  |
| 这个 TV Size 的图超过 1/2 的时间是 Kiai 时间。可以缩短一些。 |  |  |
| <!-- 未验证 -->Kiai 时间没有对齐时间轴！ |  |  |
| <!-- 未验证 -->Kiai 时间结尾没有对齐时间轴！ |  |  |
| osu!mania 图中不建议设置休息时间。 | 仅限 osu!mania 谱面！ | 在休息时间段插入音符。 |
| <!-- 未验证 -->Easy/Normal 难度中的速度变化过多。 |  |  |
| <!-- 未验证 -->Kiai 状态切换过于频繁！ |  |  |

#### 元数据 (Meta)

| 消息 | 解释 | 解决方案 |
| :-- | :-- | :-- |
| 堆叠判定值（stack leniency）高于 0.9 或低于 0.3。 | 歌曲设置页面中 “Advanced” 标签页下的 Stack Leniency 滑块被设置为 2 或 10. | 调整滑块，将此值设定为 3 到 9 之间。 |
| 艺术家名（罗马拼音）包含非 ASCII 字符。 |  |  |
| 标题名（罗马拼音）包含非 ASCII 字符。 |  |  |
| osu!mania 模式不允许使用倒计时（countdown）。 | 仅限 osu!mania 谱面！ | 取消勾选歌曲设置页中 “Design” 标签页下的 `Enable countdown` 选项。 |
| osu!mania 模式不允许使用黑边（letterbox）。 | 仅限 osu!mania 谱面！ | 取消勾选歌曲设置页中 “Design” 标签页下的 `Letterbox during breaks` 选项。 |
| 建议 OD（总体）至少为 5。 | 仅限 osu!mania 谱面！ | 将歌曲设置页中 “Design” 标签页下的 `Overall Difficulty` 值设置为 5 及以上。 |
| 建议滑条极少的图 OD（总体难度）至少为 7。 | 仅限 osu!mania 谱面！ |  |
| 建议滑条极少的图 OD（总体难度）至少为 8。 | 仅限 osu!mania 谱面！ |  |
| <!-- 未验证 -->太鼓模式不允许使用倒计时（countdown）。 | 仅限 osu!taiko 谱面！ |  |
| <!-- 未验证 -->太鼓模式不允许设置闪光警告（epilepsy warning）。 | 仅限 osu!taiko 谱面！ |  |
| 太鼓模式不允许使用黑边（letterbox）。 | 仅限 osu!taiko 谱面！ |  |

#### 图集 (Mapset)

| 消息 | 解释 | 解决方案 |
| :-- | :-- | :-- |
| 英文（Romanzied）的艺术家名与 {0} 难度不同。 |  |  |
| 音频文件与 {0} 难度不同。 |  |  |
| 倒计时设置与 {0} 难度不同。 |  |  |
| 前奏长度与 {0} 难度不同。 |  |  |
| 暂停时间的黑边（letterbox）设置与 {0} 难度不同。 |  |  |
| 音频预览时间与 {0} 难度不同。 |  |  |
| 来源（Source）名与 {0} 难度不同。 |  |  |
| Tags 与 {0} 难度不同。 |  |  |
| 英文（Romanzied）的标题名与 {0} 难度不同。 |  |  |
| 艺术家（Unicode artist）名与 {0} 难度不同。 |  |  |
| 标题（Unicode title）名与 {0} 难度不同。 |  |  |
| <!-- 未验证 -->此图集在没有 Hard 难度的情况下不可有 Insane 难度。 |  |  |
| <!-- 未验证 -->谱面超出了上传大小限制（最多允许 {0}kb）。 | 压缩的 `.osz` 文件太大了。 |  |
| <!-- 未翻译 -->此图集需要更低难度。 |  |  |
| <!-- 未验证 -->找不到图集难度：{0}。 |  |  |
| 图集中至少需要两个 osu!catch 模式的难度。 | 仅限 osu!catch 谱面！ |  |
| 图集中至少需要一个 Easy/Normal 难度。 |  |  |
| 图集中至少需要两个 osu!mania 模式的难度。 | 仅限 osu!mania 谱面！ |  |
| 图集中至少需要两个 osu! 标准模式的难度。 | 仅限 osu! 谱面！ |  |
| 图集中至少需要两个太鼓模式的难度。 | 仅限 osu!taiko 谱面！ |  |
| <!-- 未翻译 -->非继承计时点与 {0} 难度不同。 |  |  |

## 缺陷

- **AiMod 检测不出大量**[谱面上架标准 (RC)](/wiki/Ranking_Criteria) 认为不可上架的问题，比如可能锁定不当的物件、有延迟的打击音效、文件大小大于 2.5MB 的背景等等。
- **AiMod 可能会警告你本不是问题的东西**，比如[马拉松](/wiki/Beatmap/Marathon)谱面需要两个标准难度， [kiai 时间](/wiki/Gameplay/Kiai_time)持续短于 15 秒。
- **启用 `Check distance snap` 选项的情况下，AiMod 并不会检查串与串之间的间距锁定情况。**
- **如果谱面文件夹中有多个 MP3 文件，AiMod 会警告你有多个歌曲文件**。然而，MP3 文件也可用于鼓掌之类的音效。

如果你想要让谱面[上架](/wiki/Beatmap/Category#ranked)，除 AiMod 以外，推荐你再使用其他程序，比如 ::{ flag=SE }:: [Naxess](https://osu.ppy.sh/users/8129817) 的 [Mapset Verifier](https://github.com/Naxesss/MapsetVerifier/releases)。这些程序能更加紧跟目前的谱面上架准则，能检测出的问题远多于 AiMod。但由于上架准则中的一些规则依赖 AiMod，也不要完全忽略它。
